<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Memory Maze Adventure â€“ For Rizin</title>
<style>
    body {
        margin: 0;
        font-family: "Poppins", sans-serif;
        background: linear-gradient(135deg, #2a0047, #6300a0);
        color: white;
        text-align: center;
        padding: 40px;
    }
    .box {
        max-width: 700px;
        margin: auto;
        padding: 40px;
        background: rgba(255,255,255,0.1);
        border-radius: 20px;
        backdrop-filter: blur(10px);
    }
    button {
        background: #ff84ff;
        border: none;
        padding: 15px 25px;
        margin: 12px;
        font-size: 18px;
        border-radius: 15px;
        cursor: pointer;
        color: white;
        transition: 0.2s;
    }
    button:hover {
        background: #ff3cff;
        transform: scale(1.05);
    }
</style>
</head>
<body>

<div class="box">
    <h1>ðŸ’œ Memory Maze Adventure ðŸ’œ</h1>
    <div id="content"></div>
</div>

<script>
let level = 0;
let answers = [];

const steps = [
    {
        q: "The Gate of First Sight â€” What moment of me still lives in your mind?",
        options: []
    },
    {
        q: "The Corridor of Hidden Smiles â€” Pick one smile you remember.",
        options: []
    },
    {
        q: "The Room of Warm Hands â€” When did you wish to hold my hand?",
        options: []
    },
    {
        q: "The Garden of Unsaid Words â€” What feeling you almost said?",
        options: []
    },
    {
        q: "The Path of What-Ifs â€” Which â€˜almostâ€™ moment couldâ€™ve been beautiful?",
        options: []
    },
    {
        q: "The Echo Chamber â€” When did you miss me the most?",
        options: []
    },
    {
        q: "The Lanterns of Softness â€” Tell me one soft thing about us.",
        options: []
    },
    {
        q: "The Crossing of Heartbeats â€” When did you feel close to me?",
        options: []
    },
    {
        q: "The Whisper Bridge â€” Whatâ€™s something you secretly adore?",
        options: []
    },
    {
        q: "The Door of Fallen Guard â€” When did your guard fall?",
        options: []
    },
    {
        q: "The Flame of â€˜Why Youâ€™ â€” Why me?",
        options: []
    },
    {
        q: "The Shadow of Fear â€” What fear you have about losing me?",
        options: []
    },
    {
        q: "The Color Room â€” Pick a color and emotion:",
        options: ["Red â€“ Passion", "Blue â€“ Peace", "Pink â€“ Love", "Purple â€“ Desire", "Gold â€“ Hope"]
    },
    {
        q: "The Chamber of Futures â€” What future moment do you want with me?",
        options: []
    },
    {
        q: "The Heart of the Maze â€” Final message for me:",
        options: []
    }
];

function loadStep() {
    let s = steps[level];
    let html = `<h2>${s.q}</h2><br>`;

    if (s.options.length === 0) {
        html += `
            <textarea id="answer" 
            style="width:90%; height:120px; border-radius:10px; padding:10px; font-size:16px;"></textarea><br><br>
            <button onclick="nextOpen()">Next</button>
        `;
    } else {
        s.options.forEach(opt => {
            html += `<button onclick="nextButton('${opt}')">${opt}</button><br>`;
        });
    }

    document.getElementById("content").innerHTML = html;
}

function nextOpen() {
    let val = document.getElementById("answer").value;
    if (val.trim() === "") return;

    answers.push(steps[level].q + " => " + val);
    level++;
    endCheck();
}

function nextButton(val) {
    answers.push(steps[level].q + " => " + val);
    level++;
    endCheck();
}

function endCheck() {
    if (level >= steps.length) {
        submitAnswers();
    } else {
        loadStep();
    }
}

function submitAnswers() {
    fetch("save.php", {
        method: "POST",
        headers: { "Content-Type": "application/json"},
        body: JSON.stringify({ data: answers })
    }).then(r => r.text()).then(res => {
        document.getElementById("content").innerHTML = `
            <h2>ðŸ’– The Maze Has Chosen You ðŸ’–</h2>
            <p>Your journey has been saved inside Zaber's heart (and server).</p>
        `;
    });
}

loadStep();
</script>

</body>
</html>
